import{a as r}from"./chunk-2CJT4ORM.js";var s=function(e){return e.buying="buying",e.selling="selling",e}(s||{});var n=function(e){return e.active="active",e.pending="pending",e.aborted="aborted",e.rejected="rejected",e.accepted="closed",e}(n||{});var d=(()=>{let i=class i{constructor(t){this._user=null,this._lastBidder=null,this._id=String(t.id),this._title=t.title,this._conditions=t.conditions??null,this._location={country:t.country,city:t.city},this._endTime=new Date(t.endTime),this._status=t.status,this._currency=t.currency,this._category=t.category??null,this._description=t.description??null,this._bids=t.numberOfBids??null,this._userId=String(t.userId)??null,this._lastBidderId=String(t.lastBidderId)??null,this._picturesUrls=t.picturesUrls??(t.pictureUrl?[t.pictureUrl]:[]),this._isOver=this._status!==i.STATUSES.active}get id(){return this._id}get title(){return this._title}get conditions(){return this._conditions}get location(){return this._location}get endTime(){return this._endTime}get status(){return this._status}get currency(){return this._currency}get category(){return this._category}get description(){return this._description}get bids(){return this._bids}get userId(){return this._userId}get lastBidderId(){return this._lastBidderId}get picturesUrls(){return this._picturesUrls}get pictureUrl(){return this._picturesUrls[0]??null}get user(){return this._user}set user(t){this._user=t}get lastBidder(){return this._lastBidder}set lastBidder(t){this._lastBidder=t}get winner(){return this._lastBidder}set winner(t){this._lastBidder=t}};i.STATUSES=n,i.TYPES=r;let e=i;return e})(),u=class extends d{constructor(i){super(i),this._highestBid=null,this._minimumBid=i.minimumBid??i.startingBid??i.lastBid,this._highestBid=i.highestBidSoFar??null}get minimumBid(){return this._minimumBid}get lastBid(){return this._highestBid??this._minimumBid}get winningBid(){return this._isOver?this._highestBid:null}get winnerId(){return this._isOver?this._lastBidderId:null}get lastBidDescription(){return this._highestBid?"highest bid":"minimum bid"}get ruleset(){return r.silent}get kind(){return s.selling}validateBid(i){return i<this._minimumBid?{min:!0}:null}newBidDescription(){return`at least CURRENCY{${this._minimumBid}|${this.currency}}`}getErrorMessage(i){return i==="min"?`Bid must be at least CURRENCY{${this._minimumBid}|${this.currency}}`:""}},B=(()=>{let i=class i extends d{constructor(t){super(t),this._maximumStartingBid=t.maximumBid??t.startingBid??t.lastBid,this._lowestBid=t.lowestBidSoFar??this._maximumStartingBid}get maximumStartingBid(){return this._maximumStartingBid}get lowestBid(){return this._lowestBid}get lastBid(){return this._lowestBid}get winningBid(){return this._isOver?this._lowestBid:null}get winnerId(){return this._isOver?this._lastBidderId:null}get lastBidDescription(){return this._lowestBid===this._maximumStartingBid?"maximum starting bid":"lowest bid"}get ruleset(){return r.reverse}get kind(){return s.buying}nextValidBid(){return this._lowestBid-i.MINIMUM_BID_DIFFERENCE>0?this._lowestBid-i.MINIMUM_BID_DIFFERENCE:this._lowestBid-.01}validateBid(t){return t>this.nextValidBid()?{max:!0}:t<0?{min:!0}:null}newBidDescription(){return`no more than CURRENCY{${this.nextValidBid()}|${this.currency}}`}getErrorMessage(t){return t==="max"?`Bid must not be higher than CURRENCY{${this.nextValidBid()}|${this.currency}}`:"Bid must not be negative"}};i.MINIMUM_BID_DIFFERENCE=1;let e=i;return e})();export{s as a,n as b,d as c,u as d,B as e};
