import{a as r}from"./chunk-2CJT4ORM.js";var n=function(t){return t.buying="buying",t.selling="selling",t}(n||{});var s=function(t){return t.active="active",t.pending="pending",t.aborted="aborted",t.rejected="rejected",t.accepted="closed",t}(s||{});var l=(()=>{let e=class e{constructor(i){this._user=null,this._winner=null,this._id=String(i.id),this._title=i.title,this._conditions=i.conditions??null,this._location={country:i.country,city:i.city},this._endTime=new Date(i.endTime),this._status=i.status,this._currency=i.currency,this._winningBid=i.winningBid??null,this._winnerId=i.winnerId??null,this._category=i.category??null,this._description=i.description??null,this._bids=i.numberOfBids??null,this._userId=String(i.userId)??null,this._picturesUrls=i.picturesUrls??(i.pictureUrl?[i.pictureUrl]:[])}get id(){return this._id}get title(){return this._title}get conditions(){return this._conditions}get location(){return this._location}get endTime(){return this._endTime}get status(){return this._status}get currency(){return this._currency}get winningBid(){return this._winningBid}get winnerId(){return this._winnerId}get category(){return this._category}get description(){return this._description}get bids(){return this._bids}get userId(){return this._userId}get picturesUrls(){return this._picturesUrls}get pictureUrl(){return this._picturesUrls[0]??null}get user(){return this._user}set user(i){this._user=i}get winner(){return this._winner}set winner(i){this._winner=i}};e.STATUSES=s,e.TYPES=r;let t=e;return t})(),u=class extends l{constructor(e){super(e),this._minimumBid=e.minimumBid}get minimumBid(){return this._minimumBid}get lastBid(){return this._minimumBid}get lastBidDescription(){return"minimum bid"}get ruleSet(){return r.silent}get kind(){return n.selling}validateBid(e){return e<this._minimumBid?{min:!0}:null}newBidDescription(){return`at least CURRENCY{${this._minimumBid}|${this.currency}}`}getErrorMessage(e){return e==="min"?`Bid must be at least CURRENCY{${this._minimumBid}|${this.currency}}`:""}},g=(()=>{let e=class e extends l{constructor(i){super(i),this._maximumStartingBid=i.maximumBid,this._lowestBid=i.lowestBidSoFar??i.maximumBid,this._winningBid===null&&this.status!==s.active&&(this._winningBid=this._lowestBid)}get maximumStartingBid(){return this._maximumStartingBid}get lowestBid(){return this._lowestBid}get lastBid(){return this._lowestBid}get lastBidDescription(){return this._lowestBid===this._maximumStartingBid?"maximum starting bid":"lowest bid"}get ruleSet(){return r.reverse}get kind(){return n.buying}nextValidBid(){return this._lowestBid-e.MINIMUM_BID_DIFFERENCE>0?this._lowestBid-e.MINIMUM_BID_DIFFERENCE:this._lowestBid-.01}validateBid(i){return i>this.nextValidBid()?{max:!0}:i<0?{min:!0}:null}newBidDescription(){return`no more than CURRENCY{${this.nextValidBid()}|${this.currency}}`}getErrorMessage(i){return i==="max"?`Bid must not be higher than CURRENCY{${this.nextValidBid()}|${this.currency}}`:"Bid must not be negative"}};e.MINIMUM_BID_DIFFERENCE=1;let t=e;return t})();export{n as a,s as b,l as c,u as d,g as e};
