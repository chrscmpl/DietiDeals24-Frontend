import{d as Ft,e as Dt,g as Je,h as se,i as j,k as Nt,l as At,m as Rt,n as Bt,o as jt,p as zt,r as qt,s as Ht,t as Gt,u as Kt,v as Wt}from"./chunk-BCVSTTMC.js";import{B as oe,D as ae,E as Ae,F as Re,J as Lt,K as Qe,M as Ze,O as Ye,Y as R,Z as B,a as Ee,ca as $e,e as Fe,f as De,h as J,i as X,j as Ve,k as Ne,m as y,p as ee,q as te,s as x,u as ie,w as ne,x as Ot,y as re,z as Et}from"./chunk-VEQ63YN5.js";import{d as Vt,k as q,l as Ut}from"./chunk-STSVNHQY.js";import{b as Le}from"./chunk-V4PTOTM5.js";import{b as Tt,c as ke,g as $,h as St,i as It,l as Oe,m as le,n as ce,o as pe,p as kt,s as z}from"./chunk-VAUY7UXL.js";import{a as de}from"./chunk-FNDQBP77.js";import"./chunk-2CJT4ORM.js";import{F as xt,G as Pt,H as Ie,K as Mt,b as _t,e as yt,f as Ct,g as Te,h as wt,i as Se,j as bt,n as Y,o as We}from"./chunk-27INX3PV.js";import{$b as u,Bb as Ce,Ca as h,Da as v,Db as L,Ea as fe,Eb as V,Fa as he,Ja as ve,Jb as a,Jc as Me,Ka as N,Kb as l,L as st,Lb as m,Mb as O,Nb as E,Oa as dt,Ob as Q,Oc as A,Pb as M,Pc as vt,Sb as C,Tb as d,Wb as we,Xb as be,Yb as H,Zb as G,_b as ut,a as qe,ac as Z,bc as gt,eb as s,ec as Ge,fb as g,fc as Ue,ga as ge,gc as Ke,ha as lt,hc as xe,ia as K,ic as T,jc as w,kb as mt,kc as S,lc as I,ma as ct,mc as ft,na as He,pb as _e,qb as ye,ra as D,rc as k,sa as b,sc as Pe,ta as W,tc as U,ub as _,uc as ht,va as pt,yb as P,zb as c}from"./chunk-I3PUZZLM.js";var Xe=(()=>{class n extends Ee{static \u0275fac=(()=>{let e;return function(i){return(e||(e=he(n)))(i||n)}})();static \u0275cmp=b({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[_e,T],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,i){t&1&&(fe(),a(0,"svg",0),m(1,"path",1),l()),t&2&&(L(i.getClassNames()),P("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();var et=(()=>{class n extends Ee{pathId;ngOnInit(){this.pathId="url(#"+Tt()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=he(n)))(i||n)}})();static \u0275cmp=b({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[_e,T],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){t&1&&(fe(),a(0,"svg",0)(1,"g"),m(2,"path",1),l(),a(3,"defs")(4,"clipPath",2),m(5,"rect",3),l()()()),t&2&&(L(i.getClassNames()),P("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),s(),P("clip-path",i.pathId),s(3),c("id",i.pathId))},encapsulation:2})}return n})();var li=["input"],ci=(n,r)=>({showTransitionParams:n,hideTransitionParams:r}),pi=n=>({value:"visible",params:n}),di=n=>({width:n});function mi(n,r){if(n&1){let e=M();a(0,"TimesIcon",10),C("click",function(){h(e);let i=d(2);return v(i.clear())}),l()}n&2&&(c("styleClass","p-password-clear-icon"),P("data-pc-section","clearIcon"))}function ui(n,r){}function gi(n,r){n&1&&_(0,ui,0,0,"ng-template")}function fi(n,r){if(n&1){let e=M();O(0),_(1,mi,1,2,"TimesIcon",7),a(2,"span",8),C("click",function(){h(e);let i=d();return v(i.clear())}),_(3,gi,1,0,null,9),l(),E()}if(n&2){let e=d();s(),c("ngIf",!e.clearIconTemplate),s(),P("data-pc-section","clearIcon"),s(),c("ngTemplateOutlet",e.clearIconTemplate)}}function hi(n,r){if(n&1){let e=M();a(0,"EyeSlashIcon",12),C("click",function(){h(e);let i=d(3);return v(i.onMaskToggle())}),l()}n&2&&P("data-pc-section","hideIcon")}function vi(n,r){}function _i(n,r){n&1&&_(0,vi,0,0,"ng-template")}function yi(n,r){if(n&1){let e=M();a(0,"span",12),C("click",function(){h(e);let i=d(3);return v(i.onMaskToggle())}),_(1,_i,1,0,null,9),l()}if(n&2){let e=d(3);s(),c("ngTemplateOutlet",e.hideIconTemplate)}}function Ci(n,r){if(n&1&&(O(0),_(1,hi,1,1,"EyeSlashIcon",11)(2,yi,2,1,"span",11),E()),n&2){let e=d(2);s(),c("ngIf",!e.hideIconTemplate),s(),c("ngIf",e.hideIconTemplate)}}function wi(n,r){if(n&1){let e=M();a(0,"EyeIcon",12),C("click",function(){h(e);let i=d(3);return v(i.onMaskToggle())}),l()}n&2&&P("data-pc-section","showIcon")}function bi(n,r){}function xi(n,r){n&1&&_(0,bi,0,0,"ng-template")}function Pi(n,r){if(n&1){let e=M();a(0,"span",12),C("click",function(){h(e);let i=d(3);return v(i.onMaskToggle())}),_(1,xi,1,0,null,9),l()}if(n&2){let e=d(3);s(),c("ngTemplateOutlet",e.showIconTemplate)}}function Mi(n,r){if(n&1&&(O(0),_(1,wi,1,1,"EyeIcon",11)(2,Pi,2,1,"span",11),E()),n&2){let e=d(2);s(),c("ngIf",!e.showIconTemplate),s(),c("ngIf",e.showIconTemplate)}}function Ti(n,r){if(n&1&&(O(0),_(1,Ci,3,2,"ng-container",5)(2,Mi,3,2,"ng-container",5),E()),n&2){let e=d();s(),c("ngIf",e.unmasked),s(),c("ngIf",!e.unmasked)}}function Si(n,r){n&1&&Q(0)}function Ii(n,r){n&1&&Q(0)}function ki(n,r){if(n&1&&(O(0),_(1,Ii,1,0,"ng-container",9),E()),n&2){let e=d(2);s(),c("ngTemplateOutlet",e.contentTemplate)}}function Oi(n,r){if(n&1&&(a(0,"div",15),m(1,"div",3),k(2,"mapper"),l(),a(3,"div",16),u(4),l()),n&2){let e=d(2);P("data-pc-section","meter"),s(),c("ngClass",U(2,6,e.meter,e.strengthClass))("ngStyle",S(9,di,e.meter?e.meter.width:"")),P("data-pc-section","meterLabel"),s(2),P("data-pc-section","info"),s(),Z(e.infoText)}}function Ei(n,r){n&1&&Q(0)}function Fi(n,r){if(n&1){let e=M();a(0,"div",13,1),C("click",function(i){h(e);let o=d();return v(o.onOverlayClick(i))})("@overlayAnimation.start",function(i){h(e);let o=d();return v(o.onAnimationStart(i))})("@overlayAnimation.done",function(i){h(e);let o=d();return v(o.onAnimationEnd(i))}),_(2,Si,1,0,"ng-container",9)(3,ki,2,1,"ng-container",14)(4,Oi,5,11,"ng-template",null,2,ht)(6,Ei,1,0,"ng-container",9),l()}if(n&2){let e=ut(5),t=d();c("ngClass","p-password-panel p-component")("@overlayAnimation",S(10,pi,I(7,ci,t.showTransitionOptions,t.hideTransitionOptions))),P("data-pc-section","panel"),s(2),c("ngTemplateOutlet",t.headerTemplate),s(),c("ngIf",t.contentTemplate)("ngIfElse",e),s(3),c("ngTemplateOutlet",t.footerTemplate)}}var Di=(()=>{class n{transform(e,t,...i){return t(e,...i)}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=pt({name:"mapper",type:n,pure:!0})}return n})(),Li={provide:Ve,useExisting:ge(()=>me),multi:!0},me=(()=>{class n{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new N;onBlur=new N;onClear=new N;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(e,t,i,o,p,f,ze){this.document=e,this.platformId=t,this.renderer=i,this.cd=o,this.config=p,this.el=f,this.overlayService=ze}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"hideicon":this.hideIconTemplate=e.template;break;case"showicon":this.showIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,ke.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(e){switch(e.toState){case"void":ke.clear(e.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=pe.getOuterWidth(this.input.nativeElement)+"px",pe.absolutePosition(this.overlay,this.input.nativeElement)):pe.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value)}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(e)}onKeyUp(e){if(this.feedback){let t=e.target.value;if(this.updateUI(t),e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(e){let t=null,i=null;switch(this.testStrength(e)){case 1:t=this.weakText(),i={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText(),i={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText(),i={strength:"strong",width:"100%"};break;default:t=this.promptText(),i=null;break}this.meter=i,this.infoText=t}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let t=0;return this.strongCheckRegExp.test(e)?t=3:this.mediumCheckRegExp.test(e)?t=2:e.length&&(t=1),t}writeValue(e){e===void 0?this.value=null:this.value=e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindScrollListener(){We(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new kt(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(We(this.platformId)&&!this.resizeListener){let e=this.document.defaultView;this.resizeListener=this.renderer.listen(e,"resize",()=>{this.overlayVisible&&!pe.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(e){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":e}}inputFieldClass(e){return{"p-password-input":!0,"p-disabled":e}}strengthClass(e){return`p-password-strength ${e?e.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(ce.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ce.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ce.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ce.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(e){return e?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(ke.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||n)(g(_t),g(dt),g(mt),g(Me),g(It),g(ve),g(St))};static \u0275cmp=b({type:n,selectors:[["p-password"]],contentQueries:function(t,i,o){if(t&1&&we(o,Oe,4),t&2){let p;H(p=G())&&(i.templates=p)}},viewQuery:function(t,i){if(t&1&&be(li,5),t&2){let o;H(o=G())&&(i.input=o.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(t,i){t&2&&Ce("p-inputwrapper-filled",i.filled())("p-inputwrapper-focus",i.focused)("p-password-clearable",i.showClear)("p-password-mask",i.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[D.HasDecoratorInputTransform,"disabled","disabled",A],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[D.HasDecoratorInputTransform,"maxLength","maxLength",vt],strongLabel:"strongLabel",inputId:"inputId",feedback:[D.HasDecoratorInputTransform,"feedback","feedback",A],appendTo:"appendTo",toggleMask:[D.HasDecoratorInputTransform,"toggleMask","toggleMask",A],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[D.HasDecoratorInputTransform,"showClear","showClear",A],autofocus:[D.HasDecoratorInputTransform,"autofocus","autofocus",A],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[xe([Li]),ye],decls:9,vars:34,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(t,i){if(t&1){let o=M();a(0,"div",3),k(1,"mapper"),a(2,"input",4,0),k(4,"mapper"),k(5,"mapper"),C("input",function(f){return h(o),v(i.onInput(f))})("focus",function(f){return h(o),v(i.onInputFocus(f))})("blur",function(f){return h(o),v(i.onInputBlur(f))})("keyup",function(f){return h(o),v(i.onKeyUp(f))}),l(),_(6,fi,4,3,"ng-container",5)(7,Ti,3,2,"ng-container",5)(8,Fi,7,12,"div",6),l()}t&2&&(L(i.styleClass),c("ngClass",U(1,25,i.toggleMask,i.containerClass))("ngStyle",i.style),P("data-pc-name","password")("data-pc-section","root"),s(2),L(i.inputStyleClass),c("ngClass",U(4,28,i.disabled,i.inputFieldClass))("ngStyle",i.inputStyle)("value",i.value)("variant",i.variant)("autofocus",i.autofocus),P("label",i.label)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.inputId)("type",U(5,31,i.unmasked,i.inputType))("placeholder",i.placeholder)("autocomplete",i.autocomplete)("maxlength",i.maxLength)("data-pc-section","input"),s(4),c("ngIf",i.showClear&&i.value!=null),s(),c("ngIf",i.toggleMask),s(),c("ngIf",i.overlayVisible))},dependencies:()=>[yt,Te,Se,wt,R,Fe,$e,et,Xe,Di],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[Lt("overlayAnimation",[Ye(":enter",[Ze({opacity:0,transform:"scaleY(0.8)"}),Qe("{{showTransitionParams}}")]),Ye(":leave",[Qe("{{hideTransitionParams}}",Ze({opacity:0}))])])]},changeDetection:0})}return n})(),Be=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=W({type:n});static \u0275inj=K({imports:[Y,B,De,$e,et,Xe,le]})}return n})();var Ni=()=>({validation:"required",message:"an email is required"}),Ai=()=>({validation:"email",message:"please enter a valid email"}),Zt=(n,r)=>[n,r],Ri=()=>({validation:"required",message:"a password is required"}),Bi=()=>["pattern","minlength","maxlength"],ji=n=>({validation:n,message:"a password must be at least 8 characters long, and contain at least one lowercase letter, one uppercase letter, and one special character."}),Jt=(()=>{let r=class r{constructor(t,i,o,p,f){this.authenticationService=t,this.navigation=i,this.formBuilder=o,this.element=p,this.message=f,this.submissionLoading=!1}ngOnInit(){this.loginForm=this.formBuilder.group({email:new x(null,{validators:[y.required,y.email],updateOn:"blur"}),password:new x(null,{validators:[y.required,y.minLength(8),y.pattern(de.passwordPattern)],updateOn:"blur"})})}ngAfterViewInit(){setTimeout(()=>{this.patchValueFromNativeElement("email","#email"),this.patchValueFromNativeElement("password","#password")},500)}patchValueFromNativeElement(t,i){let o=this.element.nativeElement.querySelector(i);o?.value&&this.loginForm.get(t)?.patchValue(o.value)}dd24Login(){if(this.loginForm.invalid){j.markAllAsDirty(this.loginForm);return}this.submissionLoading=!0,this.authenticationService.login(this.loginForm.value,{next:()=>{this.navigation.navigateToRouteBeforeRedirection()},error:t=>{this.submissionLoading=!1,t.error.status>=500?this.displayError("Server error","Please try again later"):t.error.status>=400?this.displayError("Incorrect email or password","Please try again"):t.error.status===0?this.displayError("Network error","Check your connection and try again"):this.displayError("An error occurred","Please try again")}})}googleLogin(){}displayError(t,i){this.message.add({severity:"error",summary:t,detail:i})}};r.\u0275fac=function(i){return new(i||r)(g(z),g(q),g(oe),g(ve),g($))},r.\u0275cmp=b({type:r,selectors:[["dd24-login-page"]],standalone:!0,features:[T],decls:26,vars:17,consts:[[1,"form-card","dd24-auth-form"],["routerLink","../register",1,"registration-link","link"],[1,"google-login"],["type","submit","severity","secondary",1,"google-login-btn","p-fluid"],["src","assets/google.svg","alt","google-logo"],["align","center",1,"divider"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"inputs"],[1,"input","email-input"],["for","email"],["controlName","email",3,"errorMessages"],["type","email","pInputText","","formControlName","email","name","email","placeholder","Your email","id","email",1,"p-fluid"],[1,"input","password-input"],["for","password"],["controlName","password",3,"errorMessages"],["type","password","formControlName","password","name","password","toggleMask","true","placeholder","Your password","inputId","password",1,"p-fluid",3,"feedback"],["routerLink","../forgot-password",1,"link","forgot-password"],["label","Login","type","submit",1,"login-submit",3,"loading"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h1"),u(2,"Log into DietiDeals24"),l(),a(3,"a",1),u(4," you don't have an account? "),l(),a(5,"form",2)(6,"p-button",3),m(7,"img",4),u(8," Continue with Google "),l()(),a(9,"p-divider",5),u(10,"or"),l(),a(11,"form",6),C("ngSubmit",function(){return o.dd24Login()}),a(12,"section",7)(13,"div",8)(14,"label",9),u(15,"Email"),l(),a(16,"dd24-input",10),m(17,"input",11),l()(),a(18,"div",12)(19,"label",13),u(20,"Password"),l(),a(21,"dd24-input",14),m(22,"p-password",15),l()()(),a(23,"a",16),u(24," forgot your password? "),l(),m(25,"p-button",17),l()()),i&2&&(s(11),c("formGroup",o.loginForm),s(5),c("errorMessages",I(7,Zt,w(5,Ni),w(6,Ai))),s(5),c("errorMessages",I(14,Zt,w(10,Ri),S(12,ji,w(11,Bi)))),s(),c("feedback",!1),s(3),c("loading",o.submissionLoading))},dependencies:[ae,ie,Ne,ee,te,ne,re,Ie,se,B,R,X,J,Be,me,Re,Ae],styles:[".form-card[_ngcontent-%COMP%]   .google-login[_ngcontent-%COMP%]{margin:1rem 0;width:100%;padding-left:3rem;padding-right:3rem}.form-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%}.form-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;gap:0;flex-wrap:nowrap;padding-left:3rem;padding-right:3rem;font-size:var(--font-size-medium);width:100%}.form-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;gap:1em;flex-wrap:nowrap}.form-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;gap:0;flex-wrap:nowrap}.form-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{margin-top:.25rem}.form-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{align-self:center;margin-bottom:1rem;word-wrap:break-word}.form-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .login-submit[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .p-divider-content{font-weight:var(--font-weight-bolder);color:var(--text-color-3)}[_nghost-%COMP%]     .google-login-btn button{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1ch;flex-wrap:nowrap;background-color:#fff;color:#000;padding:.5rem;font-weight:500}"]});let n=r;return n})();var qi=()=>({validation:"required",message:"a name is required"}),ue=n=>[n],Hi=()=>({validation:"required",message:"a surname is required"}),Gi=()=>({validation:"required",message:"a birthday is required"}),Ui=()=>({validation:"required",message:"a country is required"}),Ki=()=>({customValidation:"noCountrySelected",message:"You must select a country before selecting a city"}),Wi=()=>({validation:"required",message:"a city is required"}),je=(n,r)=>[n,r],Qi=()=>({validation:"required",message:"an email is required"}),Zi=()=>({validation:"email",message:"Please enter a valid email"}),Yi=()=>({validation:"required",message:"an username is required"}),$i=()=>({validation:"required",message:"a password is required"}),Ji=()=>["pattern","minlength","maxlength"],Xi=n=>({validation:n,message:"a password must be at least 8 characters long, and contain at least one lowercase letter, one uppercase letter, and one special character."}),en=()=>({validation:"required",message:"you need to confirm your password"}),tn=()=>({customValidation:"passwordsDoNotMatch",message:"passwords do not match"});function nn(n,r){if(n&1){let e=M();a(0,"div",8)(1,"div",14)(2,"label",15),u(3,"Name*"),l(),a(4,"dd24-input",16),m(5,"input",17),l()(),a(6,"div",14)(7,"label",18),u(8,"Surname*"),l(),a(9,"dd24-input",19),m(10,"input",20),l()(),a(11,"div",14)(12,"label",21),u(13,"Birthday*"),l(),a(14,"dd24-input",22),m(15,"p-calendar",23),l()(),a(16,"div",14)(17,"label",24),u(18,"Country*"),l(),a(19,"dd24-input",25)(20,"p-autoComplete",26),C("completeMethod",function(i){h(e);let o=d();return v(o.completeCountries(i))}),l()()(),a(21,"div",14)(22,"label",27),u(23,"City*"),l(),a(24,"dd24-input",28)(25,"p-autoComplete",29),C("completeMethod",function(i){h(e);let o=d();return v(o.completeCities(i))}),l()()()()}if(n&2){let e=d();s(4),c("errorMessages",S(14,ue,w(13,qi))),s(5),c("errorMessages",S(17,ue,w(16,Hi))),s(5),c("errorMessages",S(20,ue,w(19,Gi))),s(),c("showIcon",!0)("minDate",e.minBirthdayDate)("maxDate",e.maxBirthdayDate)("defaultDate",e.defaultBirthdayDate),s(4),c("errorMessages",S(23,ue,w(22,Ui))),s(),c("suggestions",e.filteredCountries),s(2),Ce("p-disabled",e.registrationForm.controls.userData.controls.city.disabled),s(2),c("errorMessages",I(27,je,w(25,Ki),w(26,Wi))),s(),c("suggestions",e.filteredCities)}}function rn(n,r){if(n&1&&(a(0,"div",9)(1,"div",14)(2,"label",30),u(3,"Email*"),l(),a(4,"dd24-input",31),m(5,"input",32),l()(),a(6,"div",14)(7,"label",33),u(8,"Username*"),l(),a(9,"dd24-input",34),m(10,"input",35),l()(),a(11,"div",14)(12,"label",36),u(13,"Password*"),l(),a(14,"dd24-input",37),m(15,"p-password",38),l()(),a(16,"div",14)(17,"label",39),u(18,"Confirm password*"),l(),a(19,"dd24-input",40),m(20,"p-password",41),l()()()),n&2){let e=d();s(4),c("errorMessages",I(10,je,w(8,Qi),w(9,Zi))),s(5),c("errorMessages",S(14,ue,w(13,Yi))),s(5),c("errorMessages",I(20,je,w(16,$i),S(18,Xi,w(17,Ji)))),s(),c("feedback",!0)("strongRegex",e.environment.passwordStrongPattern)("mediumRegex",e.environment.passwordMediumPattern),s(4),c("errorMessages",I(25,je,w(23,en),w(24,tn))),s(),c("feedback",!1)}}function on(n,r){if(n&1){let e=M();a(0,"div",10)(1,"div",42),C("click",function(i){h(e);let o=d();return v(o.setDialogVisibility(i))})("keypress",function(i){h(e);let o=d();return v(o.setDialogVisibility(i))}),m(2,"div",43),a(3,"div",44)(4,"span"),u(5,"Terms of Service"),l(),m(6,"i",45),l(),a(7,"span"),u(8),l()(),a(9,"div",46),m(10,"p-checkbox",47),a(11,"label",48),u(12,"I have read and accept the terms of the above terms of service"),l()()()}if(n&2){let e=d();s(8),Z(e.tos)}}function an(n,r){if(n&1&&(a(0,"span",11),u(1),l()),n&2){let e=d();s(),Z(e.error)}}var Xt=(()=>{let r=class r{get environment(){return de}constructor(t,i,o,p,f,ze,ri,oi){this.formBuilder=t,this.locationsService=i,this.router=o,this.authentication=p,this.message=f,this.assets=ze,this.navigation=ri,this.windowService=oi,this.subscriptions=[],this.activeStep=0,this.error="",this.filteredCountries=[],this.cities=[],this.filteredCities=[],this.minBirthdayDate=new Date(1900,0,1),this.maxBirthdayDate=new Date,this.defaultBirthdayDate=new Date(2e3,0,1),this.privacyPolicyDialogVisible=!1,this.tos="",this.onNextuserData=()=>this.registrationForm.get("userData")?.valid?!0:(j.markAllAsDirty(this.registrationForm.get("userData")),!1),this.onNextCredentials=()=>this.registrationForm.get("credentials")?.valid?!0:(j.markAllAsDirty(this.registrationForm.get("credentials")),!1),this.steps=[{title:"Your data",nextCallback:this.onNextuserData.bind(this)},{title:"Your credentials",nextCallback:this.onNextCredentials.bind(this)},{title:"Privacy policy"}],this.submissionLoading=!1}ngOnInit(){this.initForm(),this.maxBirthdayDate.setFullYear(this.maxBirthdayDate.getFullYear()-18),this.locationsService.refreshCountries(),this.assets.getPlainText("tos.txt").pipe(st(1)).subscribe(t=>{this.tos=t}),this.handleCityControl(),this.subscriptions.push(this.windowService.isMobile$.subscribe(t=>{this.navigation.backAction=t?this.onBack.bind(this):null}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.navigation.backAction=null}initForm(){this.registrationForm=this.formBuilder.group({userData:this.formBuilder.group({name:new x(null,{validators:[y.required],updateOn:"blur"}),surname:new x(null,{validators:[y.required],updateOn:"blur"}),birthday:new x(null,{validators:[y.required]}),country:new x(null,{validators:y.required}),city:new x(null,{validators:y.required})}),credentials:this.formBuilder.group({email:new x(null,{validators:[y.required,y.email],updateOn:"blur"}),username:new x(null,{validators:[y.required],updateOn:"blur"}),password:new x(null,{validators:[y.required,y.minLength(8),y.pattern(de.passwordPattern)],updateOn:"blur"}),confirmPassword:new x(null,{validators:[y.required,this.validateConfirmPassword.bind(this)],updateOn:"blur"})}),privacyPolicy:this.formBuilder.group({accept:new x(!1,{nonNullable:!0,validators:y.requiredTrue})})}),this.registrationForm.controls.userData.controls.city.disable()}handleCityControl(){this.registrationForm.controls.userData.controls.country.valueChanges.subscribe(t=>{let i=this.registrationForm.controls.userData.controls.city;i.setValue(null),i.markAsUntouched(),i.markAsPristine(),t?(i.enable(),this.getCities()):i.disable()})}next(){this.stepper.nextStep()}onBack(t){this.activeStep>0?this.stepper.prevStep():t()}onSubmit(){if(this.activeStep!==2){this.next();return}this.onRegister()}onRegister(){if(!this.registrationForm.valid){this.onInvalidForm();return}this.submissionLoading=!0,this.error="";let t=Vt({birthday:this.registrationForm.value.userData.birthday.toISOString()},qe(qe({},this.registrationForm.value.userData),this.registrationForm.value.credentials));delete t.confirmPassword,this.authentication.register(t,{next:this.onRegisterSuccess.bind(this),error:this.onRegisterError.bind(this)})}onInvalidForm(){j.markAllAsDirty(this.registrationForm),this.registrationForm.get("privacyPolicy")?.invalid&&(this.error="You must accept the privacy policy to continue")}onRegisterSuccess(){this.authentication.emailToVerify=this.registrationForm.get("credentials")?.get("email")?.value??null,this.router.navigate(["auth/verify-email"])}onRegisterError(t){this.submissionLoading=!1,t.error.status>=500?this.showErrorToast("Server error","Please try again later."):t.error.status===409?this.showErrorToast("Conflict","Email or username already in use."):t.error.status>=400?this.showErrorToast("Invalid data","Please check your data and try again."):t.error.status===0?this.showErrorToast("Network error","Check your connection and try again"):this.showErrorToast("An error occurred","Please try again later."),console.error(t.error)}onKeyPressed(t){t.key==="Enter"&&this.onSubmit()}getCities(){let t=this.registrationForm.controls.userData.controls.country;t.valid&&t.value&&this.locationsService.getCities(t.value).subscribe(i=>{this.cities=i})}completeCountries(t){this.filteredCountries=this.locationsService.countries?.filter(i=>i.name.toLowerCase().includes(t.query.toLowerCase()))??[]}completeCities(t){this.filteredCities=this.cities.filter(i=>i.toLowerCase().includes(t.query.toLowerCase()))}setDialogVisibility(t){(t instanceof MouseEvent||t instanceof KeyboardEvent&&t.key==="Enter")&&(this.privacyPolicyDialogVisible=!0)}validateConfirmPassword(t){let i=this.registrationForm?.get("credentials")?.get("password");return t.value===i?.value?{}:{passwordsDoNotMatch:!0}}showErrorToast(t,i){this.message.add({severity:"error",summary:t,detail:i})}};r.\u0275fac=function(i){return new(i||r)(g(oe),g(qt),g(Pt),g(z),g($),g(Wt),g(q),g(Le))},r.\u0275cmp=b({type:r,selectors:[["dd24-registration-page"]],viewQuery:function(i,o){if(i&1&&be(Je,5),i&2){let p;H(p=G())&&(o.stepper=p.first)}},standalone:!0,features:[T],decls:21,vars:11,consts:[[1,"form-card","dd24-auth-form"],["routerLink","../login",1,"login-link","link"],[1,"google-registration"],["type","submit","severity","secondary",1,"google-registration-btn","p-fluid"],["src","assets/google.svg","alt","google-logo"],["align","center",1,"divider"],[3,"activeStepChange","steps","activeStep"],["tabindex","0",1,"registration-form",3,"ngSubmit","keypress","formGroup"],["formGroupName","userData",1,"inner-form"],["formGroupName","credentials",1,"inner-form"],["formGroupName","privacyPolicy",1,"inner-form"],[1,"error"],["type","submit",1,"next-btn",3,"label","loading"],["header","Terms of Service","resizable","false","draggable","false","modal","true","dismissableMask","true",1,"privacy-policy-dialog","custom-dialog",3,"visibleChange","visible"],[1,"input"],["for","name"],["controlName","name",3,"errorMessages"],["type","text","pInputText","","pKeyFilter","alpha","formControlName","name","name","name","placeholder","Your name","id","name",1,"p-fluid"],["for","surname"],["controlName","surname",3,"errorMessages"],["type","text","pInputText","","pKeyFilter","alpha","formControlName","surname","name","surname","placeholder","Your surname","id","surname",1,"p-fluid"],["for","birthday"],["controlName","birthday",3,"errorMessages"],["formControlName","birthday","name","birthday","iconDisplay","input","placeholder","dd/mm/yyyy","dateFormat","dd/mm/yy","inputId","birthday",1,"p-fluid",3,"showIcon","minDate","maxDate","defaultDate"],["for","country"],["controlName","country",3,"errorMessages"],["formControlName","country","name","country","placeholder","The country you live in","emptyMessage","No countries found","optionLabel","name","optionValue","code","forceSelection","true","minLength","2","inputId","country","pKeyFilter","alpha",1,"p-fluid",3,"completeMethod","suggestions"],["for","city"],["controlName","city",3,"errorMessages"],["formControlName","city","name","city","placeholder","The city you live in","emptyMessage","No cities found","forceSelection","true","inputId","city","pKeyFilter","alpha","minLength","2",1,"p-fluid",3,"completeMethod","suggestions"],["for","email"],["controlName","email",3,"errorMessages"],["type","email","pInputText","","formControlName","email","name","email","placeholder","Your email","id","email",1,"p-fluid"],["for","username"],["controlName","username",3,"errorMessages"],["type","text","pInputText","","formControlName","username","name","username","placeholder","An unique username","id","username","pKeyFilter","alphanum","maxlength","30",1,"p-fluid"],["for","password"],["controlName","password",3,"errorMessages"],["type","password","formControlName","password","name","password","toggleMask","true","placeholder","A strong password","inputId","password",1,"p-fluid",3,"feedback","strongRegex","mediumRegex"],["for","confirm-password"],["controlName","confirmPassword",3,"errorMessages"],["type","password","formControlName","confirmPassword","name","confirm-password","toggleMask","true","placeholder","The same as above","inputId","confirm-password",1,"p-fluid",3,"feedback"],["tabindex","0",1,"privacy-policy-preview",3,"click","keypress"],[1,"privacy-policy-preview-mask"],[1,"privacy-policy-preview-top"],[1,"pi","pi-arrow-right"],[1,"privacy-policy-checkbox-container"],["formControlName","accept","inputId","accept","binary","true",1,"privacy-policy-checkbox"],["for","accept"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"h1"),u(2,"Sign up to DietiDeals24"),l(),a(3,"a",1),u(4," already have an account? "),l(),a(5,"form",2)(6,"p-button",3),m(7,"img",4),u(8," Continue with Google "),l()(),a(9,"p-divider",5),u(10,"or"),l(),a(11,"dd24-stepper",6),Ke("activeStepChange",function(f){return Ue(o.activeStep,f)||(o.activeStep=f),f}),l(),a(12,"form",7),C("ngSubmit",function(){return o.onSubmit()})("keypress",function(f){return o.onKeyPressed(f)}),_(13,nn,26,30,"div",8)(14,rn,21,28,"div",9)(15,on,13,1,"div",10)(16,an,2,1,"span",11),m(17,"p-button",12),l(),a(18,"p-dialog",13),Ke("visibleChange",function(f){return Ue(o.privacyPolicyDialogVisible,f)||(o.privacyPolicyDialogVisible=f),f}),a(19,"span"),u(20),l()()()),i&2&&(s(11),c("steps",o.steps),Ge("activeStep",o.activeStep),s(),c("formGroup",o.registrationForm),s(),V(13,o.activeStep===0?13:-1),s(),V(14,o.activeStep===1?14:-1),s(),V(15,o.activeStep===2?15:-1),s(),V(16,o.error?16:-1),s(),c("label",o.activeStep!==2?"Next":"Register")("loading",o.submissionLoading),s(),Ge("visible",o.privacyPolicyDialogVisible),s(2),Z(o.tos))},dependencies:[Je,X,J,B,R,se,ae,ie,Ne,ee,te,Et,ne,re,Ot,Ie,Bt,Rt,Re,Ae,At,Nt,Be,me,Gt,Ht,Dt,Ft,zt,jt],styles:[".form-card[_ngcontent-%COMP%]{color:var(--text-color-1)}.form-card[_ngcontent-%COMP%]   .google-registration[_ngcontent-%COMP%]{margin:1rem 0;width:100%;padding-left:3rem;padding-right:3rem}.form-card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%}.form-card[_ngcontent-%COMP%]   .registration-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:0;flex-wrap:nowrap;padding-left:3rem;padding-right:3rem;width:100%;gap:1rem;font-size:var(--font-size-medium);font-weight:var(--font-weight-normal)}.form-card[_ngcontent-%COMP%]   .registration-form[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:1em;flex-wrap:nowrap}.form-card[_ngcontent-%COMP%]   .inner-form[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.form-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{align-self:center;word-wrap:break-word}.form-card[_ngcontent-%COMP%]   .privacy-policy-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:0;flex-wrap:nowrap;border-radius:var(--border-radius-medium);border:var(--border);padding:.5em;font-size:var(--font-size-medium);height:6em;overflow:hidden;color:var(--text-color-2);position:relative;cursor:pointer}.form-card[_ngcontent-%COMP%]   .privacy-policy-preview[_ngcontent-%COMP%]   .privacy-policy-preview-mask[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:70%;background:linear-gradient(rgba(255,255,255,0),var(--component-color) 120%)}.form-card[_ngcontent-%COMP%]   .privacy-policy-preview[_ngcontent-%COMP%]   .privacy-policy-preview-top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;gap:0;flex-wrap:nowrap}.form-card[_ngcontent-%COMP%]   .privacy-policy-preview[_ngcontent-%COMP%]   .privacy-policy-preview-top[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-weight:var(--font-weight-bolder)}.form-card[_ngcontent-%COMP%]   .privacy-policy-checkbox[_ngcontent-%COMP%]{vertical-align:middle;margin-right:1ch}.form-card[_ngcontent-%COMP%]   .privacy-policy-checkbox[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{vertical-align:middle}[_nghost-%COMP%]     .p-divider{margin-bottom:0}[_nghost-%COMP%]     .p-divider-content{font-weight:var(--font-weight-bolder);color:var(--text-color-3)}[_nghost-%COMP%]     .google-registration-btn button{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:1ch;flex-wrap:nowrap;background-color:#fff;color:#000;padding:.5rem;font-weight:500}"]});let n=r;return n})();var ei=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["dd24-forgot-password-page"]],standalone:!0,features:[T],decls:2,vars:0,template:function(i,o){i&1&&(a(0,"p"),u(1,"forgot-password-page works!"),l())}});let n=r;return n})();function sn(n,r){n&1&&m(0,"dd24-logo",4)}function ln(n,r){n&1&&(a(0,"div",4),m(1,"dd24-logo"),l())}function cn(n,r){n&1&&m(0,"div",5)}function pn(n,r){n&1&&m(0,"div",5)}var ti=(()=>{let r=class r{constructor(t,i){this.navigation=t,this.windowService=i}goBack(){this.navigation.back()}};r.\u0275fac=function(i){return new(i||r)(g(q),g(Le))},r.\u0275cmp=b({type:r,selectors:[["dd24-authentication-page"]],standalone:!0,features:[T],decls:13,vars:9,consts:[[1,"authentication-page"],[1,"banner"],[1,"page-back-button",3,"click"],["id","arrow-back-button-icon",1,"pi","pi-arrow-left"],[1,"logo"],[1,"spacer"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),C("click",function(){return o.goBack()}),m(3,"i",3),l(),_(4,sn,1,0,"dd24-logo",4),k(5,"async"),l(),a(6,"main"),_(7,ln,2,0,"div",4),k(8,"async"),_(9,cn,1,0),m(10,"router-outlet"),_(11,pn,1,0,"div",5),k(12,"async"),l()()),i&2&&(s(4),V(4,Pe(5,3,o.windowService.isMobile$)===!1?4:-1),s(3),V(7,Pe(8,5,o.windowService.isMobile$)?7:9),s(4),V(11,Pe(12,7,o.windowService.isMobile$)===!1?11:-1))},dependencies:[Ut,bt,xt],styles:['.authentication-page[_ngcontent-%COMP%]{height:100dvh;background-color:var(--background-color);width:100%;display:grid;grid-template:"banner main" 1fr/52% 48%;grid-gap:0;justify-items:stretch;align-items:stretch;justify-content:stretch;align-content:stretch}@media (max-width: 768px){.authentication-page[_ngcontent-%COMP%]{grid-template:"main" 1fr/1fr;height:auto;min-height:100%;background-color:var(--component-color)}}.authentication-page[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{grid-area:banner;background-color:var(--side-color);position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:0;flex-wrap:nowrap;border-right:2px solid var(--border-color-side)}@media (max-width: 768px){.authentication-page[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{display:none}}.authentication-page[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .page-back-button[_ngcontent-%COMP%]{--size: 4rem;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0;flex-wrap:nowrap;position:absolute;top:0;left:0;background-color:transparent;border:none;color:var(--text-side-color);overflow:hidden;padding:calc(var(--size) / 4);cursor:pointer}.authentication-page[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .page-back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{height:var(--size);width:var(--size);font-size:var(--size)}@media (max-width: 768px){.authentication-page[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .page-back-button[_ngcontent-%COMP%]{position:static;--size: 2rem}}.authentication-page[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:70%}.authentication-page[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{grid-area:main;display:flex;flex-direction:column;justify-content:start;align-items:center;gap:1rem;flex-wrap:nowrap;padding-top:2rem;padding-bottom:2rem;overflow-y:auto;height:100%}.authentication-page[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{align-self:center;display:block;width:75%}.authentication-page[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}@media (max-width: 768px){.authentication-page[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:auto;overflow:hidden;align-items:stretch;justify-content:center;background-color:var(--background-color)}}']});let n=r;return n})();var dn=(n,r,e)=>({$implicit:n,events:r,index:e});function mn(n,r){if(n&1){let e=M();O(0),a(1,"input",2),C("input",function(i){h(e);let o=d().$implicit,p=d();return v(p.onInput(i,o-1))})("focus",function(i){h(e);let o=d(2);return v(o.onInputFocus(i))})("blur",function(i){h(e);let o=d(2);return v(o.onInputBlur(i))})("paste",function(i){h(e);let o=d(2);return v(o.onPaste(i))})("keydown",function(i){h(e);let o=d(2);return v(o.onKeyDown(i))}),l(),E()}if(n&2){let e=d().$implicit,t=d();s(),c("value",t.getModelValue(e))("maxLength",1)("type",t.inputType)("inputmode",t.inputMode)("variant",t.variant)("readonly",t.readonly)("disabled",t.disabled)("invalid",t.invalid)("tabindex",t.tabindex)("unstyled",t.unstyled)("autofocus",t.getAutofocus(e))}}function un(n,r){n&1&&Q(0)}function gn(n,r){if(n&1&&(O(0),_(1,un,1,0,"ng-container",3),E()),n&2){let e=d().$implicit,t=d();s(),c("ngTemplateOutlet",t.inputTemplate)("ngTemplateOutletContext",ft(2,dn,t.getToken(e-1),t.getTemplateEvents(e-1),e))}}function fn(n,r){if(n&1&&(O(0),_(1,mn,2,11,"ng-container",1)(2,gn,2,6,"ng-container",1),E()),n&2){let e=d();s(),c("ngIf",!e.inputTemplate),s(),c("ngIf",e.inputTemplate)}}var hn={provide:Ve,useExisting:ge(()=>ot),multi:!0},ot=(()=>{class n{cd;invalid=!1;disabled=!1;readonly=!1;variant="outlined";tabindex=null;length=4;mask=!1;integerOnly=!1;autofocus;onChange=new N;onFocus=new N;onBlur=new N;templates;inputTemplate;tokens=[];onModelChange=()=>{};onModelTouched=()=>{};value;get inputMode(){return this.integerOnly?"numeric":"text"}get inputType(){return this.mask?"password":"text"}constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"input":this.inputTemplate=e.template;break;default:this.inputTemplate=e.template;break}})}getToken(e){return this.tokens[e]}getTemplateEvents(e){return{input:t=>this.onInput(t,e),keydown:t=>this.onKeyDown(t),focus:t=>this.onFocus.emit(t),blur:t=>this.onBlur.emit(t),paste:t=>this.onPaste(t)}}onInput(e,t){this.tokens[t]=e.target.value,this.updateModel(e),e.inputType==="deleteContentBackward"?this.moveToPrev(e):(e.inputType==="insertText"||e.inputType==="deleteContentForward")&&this.moveToNext(e)}updateModel(e){let t=this.tokens.join("");this.onModelChange(t),this.onChange.emit({originalEvent:e,value:t})}writeValue(e){e?Array.isArray(e)&&e.length>0?this.value=e.slice(0,this.length):this.value=e.toString().split("").slice(0,this.length):this.value=e,this.updateTokens(),this.cd.markForCheck()}updateTokens(){this.value!==null&&this.value!==void 0?Array.isArray(this.value)?this.tokens=[...this.value]:this.tokens=this.value.toString().split(""):this.tokens=[]}getModelValue(e){return this.tokens[e-1]||""}getAutofocus(e){return e===1?this.autofocus:!1}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}moveToPrev(e){let t=this.findPrevInput(e.target);t&&(t.focus(),t.select())}moveToNext(e){let t=this.findNextInput(e.target);t&&(t.focus(),t.select())}findNextInput(e){let t=e.nextElementSibling;if(t)return t.nodeName==="INPUT"?t:this.findNextInput(t)}findPrevInput(e){let t=e.previousElementSibling;if(t)return t.nodeName==="INPUT"?t:this.findPrevInput(t)}onInputFocus(e){e.target.select(),this.onFocus.emit(e)}onInputBlur(e){this.onBlur.emit(e)}onKeyDown(e){switch(e.code){case"ArrowLeft":this.moveToPrev(e),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Backspace":e.target.value.length===0&&(this.moveToPrev(e),e.preventDefault());break;case"ArrowRight":this.moveToNext(e),e.preventDefault();break;default:(this.integerOnly&&!((e.code.startsWith("Digit")||e.code.startsWith("Numpad"))&&Number(e.key)>=0&&Number(e.key)<=9)||this.tokens.join("").length>=this.length&&e.code!=="Delete")&&e.preventDefault();break}}onPaste(e){let t=e.clipboardData.getData("text");if(t.length){let i=t.substring(0,this.length+1);(!this.integerOnly||!isNaN(i))&&(this.tokens=i.split(""),this.updateModel(e))}e.preventDefault()}getRange(e){return Array.from({length:e},(t,i)=>i+1)}trackByFn(e){return e}static \u0275fac=function(t){return new(t||n)(g(Me))};static \u0275cmp=b({type:n,selectors:[["p-inputOtp"]],contentQueries:function(t,i,o){if(t&1&&we(o,Oe,4),t&2){let p;H(p=G())&&(i.templates=p)}},hostAttrs:[1,"p-inputotp","p-component"],inputs:{invalid:"invalid",disabled:"disabled",readonly:"readonly",variant:"variant",tabindex:"tabindex",length:"length",mask:"mask",integerOnly:"integerOnly",autofocus:[D.HasDecoratorInputTransform,"autofocus","autofocus",A]},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[xe([hn]),ye],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","","pAutoFocus","",1,"p-inputotp-input",3,"input","focus","blur","paste","keydown","value","maxLength","type","inputmode","variant","readonly","disabled","invalid","tabindex","unstyled","autofocus"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&_(0,fn,3,2,"ng-container",0),t&2&&c("ngForOf",i.getRange(i.length))("ngForTrackBy",i.trackByFn)},dependencies:[Ct,Te,Se,R,Fe],encapsulation:2,changeDetection:0})}return n})(),ii=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=W({type:n});static \u0275inj=K({imports:[Y,le,B,De,le]})}return n})();var _n=()=>({validation:"required",message:"a code is required"}),yn=()=>["minlength","maxlength"],Cn=n=>({validation:n,message:"the code must be 5 digits long"}),wn=(n,r)=>[n,r],ni=(()=>{let r=class r{constructor(t,i,o,p){this.authentication=t,this.formBuilder=i,this.navigation=o,this.message=p,this.showEmail=!1,this.submissionLoading=!1}ngOnInit(){if(!this.authentication.emailToVerify){this.navigation.back();return}this.verificationForm=this.formBuilder.group({code:new x("",{validators:[y.required,y.minLength(5),y.maxLength(5)],updateOn:"submit"}),email:new x(this.authentication.emailToVerify,[y.required])})}toggleEmailVisibility(){this.showEmail=!this.showEmail}onSubmit(){if(this.verificationForm.invalid){this.onInvalidForm();return}this.submissionLoading=!0,this.authentication.verifyEmail(this.verificationForm.value,{next:this.onVerificationSuccess.bind(this),error:this.onVerificationError.bind(this)})}onKeyPressed(t){t.key==="Enter"&&this.onSubmit()}onInvalidForm(){j.markAllAsDirty(this.verificationForm)}onVerificationSuccess(){this.navigation.navigateToRouteBeforeRedirection()}onVerificationError(t){this.submissionLoading=!1,t.error.status>=500?this.displayError("Server error","Please try again later."):t.error.status>=400?this.displayError("Invalid code","Please check your code and try again."):t.error.status===0?this.displayError("Network error","Check your connection and try again"):this.displayError("An error occurred","Please try again later")}displayError(t,i){this.message.add({severity:"error",summary:t,detail:i})}};r.\u0275fac=function(i){return new(i||r)(g(z),g(oe),g(q),g($))},r.\u0275cmp=b({type:r,selectors:[["dd24-verify-email-page"]],standalone:!0,features:[T],decls:18,vars:18,consts:[[1,"form-card","dd24-auth-form"],["tabindex","0",1,"verification-form",3,"ngSubmit","keypress","formGroup"],[1,"input","code-input"],["controlName","code",3,"errorMessages"],["formControlName","code",3,"integerOnly","length"],[1,"address-box-container"],[1,"address-box"],[1,"email-mask-toggle",3,"click"],["label","verify","type","submit",1,"submit-btn",3,"loading"]],template:function(i,o){if(i&1&&(a(0,"div",0)(1,"h1"),u(2,"Verify your email address"),l(),a(3,"form",1),C("ngSubmit",function(){return o.onSubmit()})("keypress",function(f){return o.onKeyPressed(f)}),a(4,"p"),u(5," We have sent an email to the selected address containing a code for verification. "),l(),a(6,"div",2)(7,"dd24-input",3),m(8,"p-inputOtp",4),l()(),a(9,"div",5)(10,"p"),u(11,"The address we sent the email to is:"),l(),a(12,"span",6),u(13),k(14,"masked"),a(15,"button",7),C("click",function(){return o.toggleEmailVisibility()}),m(16,"i"),l()()(),m(17,"p-button",8),l()()),i&2){let p;s(3),c("formGroup",o.verificationForm),s(4),c("errorMessages",I(15,wn,w(11,_n),S(13,Cn,w(12,yn)))),s(),c("integerOnly",!0)("length",5),s(5),gt(" ",o.showEmail?(p=(p=o.verificationForm.get("email"))==null?null:p.value)!==null&&p!==void 0?p:"":U(14,8,(p=(p=o.verificationForm.get("email"))==null?null:p.value)!==null&&p!==void 0?p:"","email")," "),s(3),L(o.showEmail?"pi pi-eye-slash":"pi pi-eye"),s(),c("loading",o.submissionLoading)}},dependencies:[ae,ie,ee,te,ne,re,ii,ot,X,J,se,Kt],styles:[".form-card[_ngcontent-%COMP%]{color:var(--text-color-1)}.form-card[_ngcontent-%COMP%]   .verification-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:0;flex-wrap:nowrap;padding-left:2.5rem;padding-right:2.5rem;margin:1rem 0;width:100%;gap:1rem;font-size:var(--font-size-medium);font-weight:var(--font-weight-normal)}.form-card[_ngcontent-%COMP%]   .verification-form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{align-self:center}.form-card[_ngcontent-%COMP%]   .verification-form[_ngcontent-%COMP%]   .address-box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:center;gap:0;flex-wrap:nowrap}.form-card[_ngcontent-%COMP%]   .verification-form[_ngcontent-%COMP%]   .address-box-container[_ngcontent-%COMP%]   .address-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;align-items:center;gap:1ch;flex-wrap:nowrap;color:var(--text-color-2)}.form-card[_ngcontent-%COMP%]   .verification-form[_ngcontent-%COMP%]   .address-box-container[_ngcontent-%COMP%]   .email-mask-toggle[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;color:var(--basic-affordances-color)}[_nghost-%COMP%]     .p-inputotp-input{padding:.8rem .75rem}"]});let n=r;return n})();var at=(()=>{let r=class r{constructor(t){this.authenticationService=t}canActivate(){return!!this.authenticationService.emailToVerify}canDeactivate(){return this.authenticationService.emailToVerify=null,!0}static asCanActivateFn(){return r.emailVerificationActivateFnGuard}static asCanDeactivateFn(){return r.emailVerificationDeactivateFnGuard}};r.emailVerificationActivateFnGuard=()=>He(r).canActivate(),r.emailVerificationDeactivateFnGuard=()=>He(r).canDeactivate(),r.\u0275fac=function(i){return new(i||r)(ct(z))},r.\u0275prov=lt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var bn=[{path:"",component:ti,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",title:"Login",component:Jt},{path:"register",title:"Sign Up",component:Xt},{path:"forgot-password",title:"Forgot Password",component:ei},{path:"verify-email",title:"Verify Email",component:ni,canActivate:[at.asCanActivateFn()],canDeactivate:[at.asCanDeactivateFn()]}]}],Co=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=W({type:r}),r.\u0275inj=K({imports:[Y,Mt.forChild(bn)]});let n=r;return n})();export{Co as AuthRoutingModule};
